(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();class n{constructor(t="tasks"){this.key=t}loadTasks(){try{const t=localStorage.getItem(this.key);return t?JSON.parse(t):[]}catch(t){return console.error(t.message),[]}}saveTasks(t){if(!Array.isArray(t))throw new Error("Task should be an array.");localStorage.setItem(this.key,JSON.stringify(t))}}class l{constructor(t){this.localStorage=t,this.tasks=this.localStorage.loadTasks()}createTasks(t){const e={id:Date.now().toString(),task:t,completed:!1};this.tasks.push(e),this.localStorage.saveTasks(this.tasks)}deleteTask(t){this.tasks=this.tasks.filter(e=>e.id!==t),this.localStorage.saveTasks(this.tasks)}toggleCompleted(t){const e=this.tasks.find(i=>i.id===t);if(e)return e.completed=!e.completed,this.localStorage.saveTasks(this.tasks)}filterTasks(t){return t==="active"?this.tasks.filter(e=>e.completed===!1):t==="completed"?this.tasks.filter(e=>e.completed===!0):this.tasks}getTasks(){return this.tasks}}class c{constructor(t,e){this.taskInput=document.querySelector(".task-input"),this.taskAddBtn=document.querySelector(".task-add-btn"),this.state=t,this.taskListView=e}addTask(){this.taskAddBtn.addEventListener("click",t=>{t.preventDefault(),this.state.createTasks(this.taskInput.value),this.taskInput.value="",this.taskListView.renderTaskList(this.state.tasks)})}}class d{constructor(t){this.taskListContainer=document.querySelector(".task-list"),this.state=t}renderTaskList(t){this.taskListContainer.innerHTML="",t.forEach(e=>{const i=document.createElement("li");i.className="task-container";const s=document.createElement("p");s.className="task-text",s.textContent=e.task,s.style.textDecoration=e.completed?"line-through":"none";const a=document.createElement("button");a.className="task-del-btn",a.textContent="X",i.addEventListener("click",r=>{if(r.target.className==="task-del-btn"){this.state.deleteTask(e.id),this.renderTaskList(this.state.tasks);return}this.state.toggleCompleted(e.id),this.renderTaskList(this.state.tasks)}),i.append(s,a),this.taskListContainer.appendChild(i)})}}class h{constructor(t,e){this.filterBtn=document.querySelectorAll(".filter-btn"),this.state=t,this.taskListView=e}handleFilterClick(){this.filterBtn.forEach(t=>{t.addEventListener("click",e=>{this.filterBtn.forEach(r=>{r.classList.remove("active"),r.setAttribute("aria-pressed","false")});const i=e.currentTarget;i.classList.add("active"),i.setAttribute("aria-pressed","true");const s=e.target.dataset.filter,a=this.state.filterTasks(s);this.taskListView.renderTaskList(a)})})}}class k{constructor(){this.localStorage=new n,this.state=new l(this.localStorage),this.taskListView=new d(this.state),this.taskFormModel=new c(this.state,this.taskListView),this.taskFilterModel=new h(this.state,this.taskListView)}init(){this.taskListView.renderTaskList(this.state.tasks),this.taskFormModel.addTask(),this.taskFilterModel.handleFilterClick()}}const u=new k;u.init();
//# sourceMappingURL=index-m0l0iTo3.js.map
